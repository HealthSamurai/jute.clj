matrix:
  include:
  - sudo: true
    language: java
    script: make test
    install:
      - curl -O https://download.clojure.org/install/linux-install-1.10.1.466.sh
      - chmod +x linux-install-1.10.1.466.sh
      - sudo ./linux-install-1.10.1.466.sh

    jdk:
      - openjdk11

    cache:
      directories:
        - $HOME/.m2
        - $HOME/.cljs
        - $HOME/.gitlibs
        - .cpcache

  - language: node_js
    node_js:
      - 10
    script: make jstest
    cache:
      directories:
        - $HOME/.m2
        - $HOME/.cljs
        - $HOME/.gitlibs
        - .cpcache

